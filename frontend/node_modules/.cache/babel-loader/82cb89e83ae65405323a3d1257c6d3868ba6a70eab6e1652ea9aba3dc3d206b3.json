{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"dashboard\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Topbar = _resolveComponent(\"Topbar\");\n  const _component_Navigation = _resolveComponent(\"Navigation\");\n  const _component_Message = _resolveComponent(\"Message\");\n  const _component_Messagesview = _resolveComponent(\"Messagesview\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_Topbar, {\n    onToggleSidebar: $options.toggleSideBar\n  }, null, 8 /* PROPS */, [\"onToggleSidebar\"]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_Navigation, {\n    sideMinimized: $data.sideMinimized\n  }, null, 8 /* PROPS */, [\"sideMinimized\"]), $data.messageShown ? (_openBlock(), _createBlock(_component_Message, {\n    key: 0,\n    onClose_msg: $options.toggle_msgShown,\n    message: $data.msg\n  }, null, 8 /* PROPS */, [\"onClose_msg\", \"message\"])) : _createCommentVNode(\"v-if\", true), !$data.messageShown ? (_openBlock(), _createBlock(_component_Messagesview, {\n    key: 1,\n    mail_messages: $data.mail_messages,\n    onShowMail: $options.toggle_msgShown,\n    onGet_messages: $options.requestGetMessages\n  }, null, 8 /* PROPS */, [\"mail_messages\", \"onShowMail\", \"onGet_messages\"])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_Topbar","onToggleSidebar","$options","toggleSideBar","_createElementVNode","_hoisted_2","_component_Navigation","sideMinimized","$data","messageShown","_createBlock","_component_Message","onClose_msg","toggle_msgShown","message","msg","_component_Messagesview","mail_messages","onShowMail","onGet_messages","requestGetMessages"],"sources":["/home/moustafa/Me/Projects/Mail/vault_mail/src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"dashboard\">\n    <Topbar @toggle-sidebar=\"toggleSideBar\"/>\n    <div class=\"container\">\n      <Navigation :sideMinimized=\"sideMinimized\"/>\n      <Message @close_msg=\"toggle_msgShown\" v-if=\"messageShown\" :message=\"msg\"/>\n      <Messagesview :mail_messages=\"mail_messages\" v-if=\"!messageShown\" @show-mail=\"toggle_msgShown\" @get_messages=\"requestGetMessages\"/>\n    </div>\n    \n  </div>\n</template>\n\n<script>\nimport Topbar from '../components/Topbar.vue'\nimport Messagesview from '../components/Messagesview.vue'\nimport Navigation from '../components/Navigation.vue'\nimport Message from '../components/Message.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'Home',\n  components: {\n    Navigation,\n    Topbar,\n    Messagesview,\n    Message\n  },\n  mounted() { \n    this.requestGetMessages()\n  },\n  data() {\n    return{\n      sideMinimized: false,\n      messageShown: false,\n      msg: null,\n      mail_messages: [],\n    }\n  },\n  methods: {\n    toggleSideBar(){\n      this.sideMinimized = !this.sideMinimized\n    },\n    toggle_msgShown(msg){\n      this.msg = msg\n      this.messageShown = !this.messageShown\n    },\n\n    async requestGetMessages()\n      {\n        const host = \"http://172.20.10.4:8081\"\n        const folderId = 1; // TODO: Replace with the actual folder ID\n        const pageId = this.page; \n\n        // const sortField = 'message.timestamp';  // TODO: Get from dropdown\n        // const sortDirection = 'desc';           // TODO: direction sort \n        // const searchField = '';                 // TODO: [[criteria]]This is in search bar only\n        // const keyword = '';                     // TODO: search input\n        const url = host+`/api/messages/get/${folderId}?page=${pageId-1}`;\n        console.log(url)\n        console.log('getting messages..');\n        axios.get(url)\n          .then(response => {\n            // Handle the response data\n            console.log(response);\n            this.mail_messages=response.data;\n            console.log('Received messages:', this.mail_messages);\n            \n          })\n          .catch(error => {\n            // Handle errors\n            console.error('Error fetching messages:', error);\n          });\n          console.log('out')\n      },\n  },\n}\n</script>\n\n<style>\n.dashboard {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n}\n\n.container {\n  display: flex;\n  flex: 1;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EAEfA,KAAK,EAAC;AAAW;;;;;;uBAFxBC,mBAAA,CAQM,OARNC,UAQM,GAPJC,YAAA,CAAyCC,iBAAA;IAAhCC,eAAc,EAAEC,QAAA,CAAAC;EAAa,8CACtCC,mBAAA,CAIM,OAJNC,UAIM,GAHJN,YAAA,CAA4CO,qBAAA;IAA/BC,aAAa,EAAEC,KAAA,CAAAD;EAAa,4CACGC,KAAA,CAAAC,YAAY,I,cAAxDC,YAAA,CAA0EC,kBAAA;;IAAhEC,WAAS,EAAEV,QAAA,CAAAW,eAAe;IAAuBC,OAAO,EAAEN,KAAA,CAAAO;6FAChBP,KAAA,CAAAC,YAAY,I,cAAhEC,YAAA,CAAmIM,uBAAA;;IAApHC,aAAa,EAAET,KAAA,CAAAS,aAAa;IAAwBC,UAAS,EAAEhB,QAAA,CAAAW,eAAe;IAAGM,cAAY,EAAEjB,QAAA,CAAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}